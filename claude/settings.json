{
  "permissions": {
    "allow": [
      "Bash(grep:*)",
      "Bash(yarn test:*)",
      "Bash(echo:*)",
      "Bash(xargs:*)",
      "Bash(done)",
      "Bash(git add:*)",
      "Bash(git checkout:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git pull:*)",
      "Bash(git stash:*)",
      "Bash(git cherry-pick:*)",
      "Bash(gh pr create:*)",
      "Bash(gh pr view:*)",
      "Bash(gh pr list:*)",
      "Bash(gh pr comment:*)",
      "Bash(gh pr review:*)",
      "Bash(gh api:*)",
      "Bash(make:*)",
      "Bash(make single-test:*)",
      "Bash(make lint:fix:*)",
      "Bash(make lint-fix:*)",
      "Bash(make help:*)",
      "Bash(make pack-check:*)",
      "Bash(standardrb --fix:*)",
      "Bash(docker compose exec:*)",
      "Bash(docker compose ps:*)",
      "Bash(timeout 120 head:*)",
      "Bash(kubectl pod enter production core web psql '$DATABASE_URL')"
    ],
    "defaultMode": "default"
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); model=$(echo \"$input\" | jq -r '.model.display_name'); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); remaining=$(echo \"$input\" | jq -r '.context_window.remaining_percentage // empty'); git_branch=\"\"; if git -C \"$cwd\" rev-parse --git-dir > /dev/null 2>&1; then git_branch=$(git -C \"$cwd\" branch --show-current 2>/dev/null); [ -n \"$git_branch\" ] && git_branch=\" ($git_branch)\"; fi; status_line=\"${model} | ${cwd}${git_branch}\"; if [ -n \"$remaining\" ]; then remaining_int=$(printf \"%.0f\" \"$remaining\"); status_line=\"${status_line} | Context: ${remaining_int}%\"; fi; echo \"$status_line\""
  },
  "model": "sonnet"
}
